package com.example.eco.util;

import cn.hutool.json.JSONUtil;
import lombok.extern.slf4j.Slf4j;
import org.springframework.util.CollectionUtils;
import org.springframework.util.StringUtils;
import org.web3j.abi.FunctionReturnDecoder;
import org.web3j.abi.TypeReference;
import org.web3j.abi.datatypes.*;
import org.web3j.abi.datatypes.generated.Bytes32;
import org.web3j.abi.datatypes.generated.Uint256;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;
import java.util.Objects;

@Slf4j
public class InputDataDecoderUtil {

    public static void BscScanLogTransaction(BscScanTransactionLog bscScanTransactionLog,List<String> topics ) {

        if (CollectionUtils.isEmpty(topics) || topics.size() != 4) {
            return ;
        }

        bscScanTransactionLog.setTopic(topics.get(0));

        int fromLength = topics.get(1).length();
        String from = "0x" + topics.get(1).substring(fromLength - 40, fromLength);

        bscScanTransactionLog.setFrom(from);

        int toLength = topics.get(2).length();
        String to = "0x" + topics.get(2).substring(toLength - 40, toLength);

        bscScanTransactionLog.setTo(to);


        Long tokenId = Long.parseLong(topics.get(3).substring(2), 16);

        bscScanTransactionLog.setTokenId(tokenId);

    }

    public static void BscScanAccountTransaction(BscScanAccountTransaction bscScanAccountTransaction) {

        if (!StringUtils.hasLength(bscScanAccountTransaction.getFunctionName())) {
            return;
        }

        try {
            // 去除方法签名
            String input = bscScanAccountTransaction.getInput().substring(bscScanAccountTransaction.getMethodId().length());

            if (!StringUtils.hasLength(input)){
                return;
            }
            // 解析方法 获取 参数类型
            String functionName = bscScanAccountTransaction.getFunctionName();

            String[] attributeList = functionName.substring(functionName.indexOf("(") + 1, functionName.indexOf(")")).split(", ");

            List<TypeReference<?>> outputParameters = new ArrayList<>();

            List<TransferFromDTO> transferFromList = new ArrayList<>();

            for (String attribute : attributeList) {

                String[] parameter = attribute.split(" ");

                //数组类型
                if (parameter[0].contains("[") && parameter[0].contains("]")) {

                    String type = parameter[0].substring(0, parameter[0].indexOf("["));


                    FunctionTypeClassEnum functionTypeClassEnum = FunctionTypeClassEnum.of(type);
                    if (Objects.isNull(functionTypeClassEnum)) {
                        return;
                    }
                    outputParameters.add(functionTypeClassEnum.getType());

                } else {

                    if (!StringUtils.hasLength(parameter[0])){
                        return;
                    }

                    if (parameter[0].equals("bytes")) {
                        outputParameters.add(TypeReference.create(AbiTypes.getType("bytes32")));
                    } else {
                        outputParameters.add(TypeReference.create(AbiTypes.getType(parameter[0])));
                    }
                }

                TransferFromDTO transferFromDTO = new TransferFromDTO();
                transferFromDTO.setName(parameter[1]);
                transferFromDTO.setType(parameter[0]);

                transferFromList.add(transferFromDTO);

            }

            Function function = new Function(bscScanAccountTransaction.getFunctionName(), new ArrayList<>(), outputParameters);

            List<Type> list = FunctionReturnDecoder.decode(input, function.getOutputParameters());

            for (int i = 0; i < list.size(); i++) {

                TransferFromDTO transferFromDTO = transferFromList.get(i);
                transferFromDTO.setData(JSONUtil.toJsonStr(list.get(i)));
            }

            bscScanAccountTransaction.setDecodedInput(JSONUtil.toJsonStr(transferFromList));
        } catch (Exception e) {
            e.printStackTrace();
        }

    }


    public static void main(String[] args) {

//        String  input = "00000000000000000000000052ed23e74e802ade6a7d64fe773cb30c1d1177230000000000000000000000000000000000000000000000000000000000000001";
//
//        Function function = new Function("setApprovalForAll", new ArrayList<>(), Arrays.asList(new TypeReference<Address>(){}, new TypeReference<Bool>(){}) );
//
//        List<Type> list = FunctionReturnDecoder.decode(input, function.getOutputParameters());
//
//        for (Type type : list) {
//            System.out.println(type.getValue().toString());
//        }


        String input = "0000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000198000000000000000000000000000000000000000000000000000000000000032a000000000000000000000000000000000000000000000000000000000000000c800000000000000000000000010e488b3642b8b04ec00dd60f0e1b4bb7283589f00000000000000000000000010e862994e7443f288adc455bf132302c9c952d400000000000000000000000010e8d74887984bd2b564275f13683531d09174d500000000000000000000000010e97c27dc17777271ff645dd3e81616aab1377100000000000000000000000010eb78907e27c2fe7e468f0ecfaea409faa99c0200000000000000000000000010ed43c718714eb63d5aa57b78b54704e256024e00000000000000000000000010f096179e2b449e92ff1edc2330c90cae66641200000000000000000000000010f424ce6208f9f32cf57675ace344f1986923a300000000000000000000000010f53861612c1f27530f0da8046761933950841100000000000000000000000010fc2e3284aac515873812e14be9a87c49b7763b00000000000000000000000010fe5e83ac74df757cf065eaf736ec5d049ee8fd000000000000000000000000110133c7f43c4ab85c0e3032909c478c00e0a4f4000000000000000000000000110495a92101e36eda70a581e38b6cc81e173a7d0000000000000000000000001106595339086fa8b25a18fc034e3d6c75df7690000000000000000000000000110729b25a52702e6365abf5b7e485776382f5de0000000000000000000000001107fbc7773319a9bec49f0b8bbfd83134935c17000000000000000000000000110a622f64c4152b298d246924bbd74db94e385b000000000000000000000000110a8947b12a73ca4cb75262c444564c898e20a80000000000000000000000001111f0600537d810cedc321d1de4b8831855311400000000000000000000000011130e4be8fb45ede43be5a90bbf79d01a75642a00000000000000000000000011142df0d67eeb37a698d824622e27d42d1e08690000000000000000000000001116f79777e248439a793178b8c01825938bd859000000000000000000000000111aaaaf4f2d732a675fa308f97e06c27ecfd09a000000000000000000000000111e137a5413ac4fce16f4370231be1f4ef297850000000000000000000000001127cd93ada879e14c752dc187c4947ba561c6dd000000000000000000000000112f9139e83cd6bd58a49f02e910577ab05102fa00000000000000000000000011359a363ac5c49d298038f2ed911be006dca9730000000000000000000000001136b8aa4b60776c5e3f6ea7e2f03961f405d6700000000000000000000000001139354151bb5cb40daae78c1299f8d17240423a00000000000000000000000011399136b9be8ef73d303bdaf652f05dfff23e07000000000000000000000000113ad0bd91a79ba73c23fd2bac2173cdc2b9a69900000000000000000000000011402b1137ae198e7d605e667e3c6ec1a8648dd20000000000000000000000001140618aecb7f99668f3472430e777f6bda155f70000000000000000000000001144e8fd54aacd579cb5111fa9f151ed56d313d60000000000000000000000001145d7e24355d08e2ec9e4bca3470b14a6f532d50000000000000000000000001146c4e0d885ca30369c87a5c375ecf433e56d2d0000000000000000000000001147ccfb4aefc6e587a23b78724ef20ec6e474d4000000000000000000000000114b8c35961beed78383768db2f5e3345ce80f63000000000000000000000000114e955278871e319a178cd7ffcb1fddc25f49990000000000000000000000001153f94b30a5aefe79779efcb7c89a2d0856ef77000000000000000000000000115575a20cb9c26495901182ceb934eaf4145c380000000000000000000000001159dc41833e3f5b73b9b239e7bf5ad38a4ddd4f0000000000000000000000001164c6a735346571fc8589ae1cad38f2543e4f650000000000000000000000001169d526b43f1f6eab4850bc24a45e82d5c848e1000000000000000000000000117158833a8771c7ec29cfad289402431eb89901000000000000000000000000117f4556eb44b1212ef8cebdb4378e1337737a8200000000000000000000000011826182a7bb34203af083afcaea2fe01096b99a0000000000000000000000001182b653b3153e9c302a4765f12fb3979c5d1748000000000000000000000000118681a5678d8f1d427bab25eae64ea154bc8f0c0000000000000000000000001194cbebee18d7c8c3440d58161e4e03e9011bf4000000000000000000000000119621fca863af0e93d2cb565fb1b190f6751872000000000000000000000000119624fdcdc5dc31e65b553dde34795278346e8b000000000000000000000000119dc775399a00f3604ff516cef4f1bcb24ebeb6000000000000000000000000119ef5b5a7820928357a3731a66202a91082a40300000000000000000000000011a5d555e956208226817dc41c7baa385b99fc7800000000000000000000000011ab4e307f40d18c0a51fbc619944a2c6ac4c4da00000000000000000000000011ac4f71649506480a99447136c895bcd035f01500000000000000000000000011b558028f983e87ed8c7f0bd24f8e0fc365874100000000000000000000000011b81377b34e7c6944754973acbabb0255d06bc300000000000000000000000011be1733c288a0942cfd726fd3f6df3d75b5d4c700000000000000000000000011c1ec2b016916359052501e5db158fb43ed60ae00000000000000000000000011c3315e23630113f31b983dbc74e971b091a73c00000000000000000000000011c373746fed073a8e9bc6664e223c2cbf34390400000000000000000000000011c47f1947e6ea0aef1a16db5660129ab5c725f700000000000000000000000011c5d2b68b9ecd301cddc4dbc98991a46efbdf3e00000000000000000000000011ca474c5b2341e88ef38fcdb5cef895ff945aa600000000000000000000000011dc6717427d2240c2cfeff09e56f536528d696900000000000000000000000011dd8f730e4dcd1de5e74d51c784933226eec02c00000000000000000000000011e05778b07a8c6986a5050f191d802584bd6d4300000000000000000000000011e82cb3c908d6227698ac95490ffbf83cfce61200000000000000000000000011e989fa37d18212e9e2a36c79e1d4fb06abf8ec00000000000000000000000011ededebf63bef0ea2d2d071bdf88f71543ec6fb00000000000000000000000011f00491d38ef075b97e92ff6989bd0b1573e8c900000000000000000000000011f30d40b093fd50b29f70b4548fa0344762fb6a00000000000000000000000011f51f61fd7d321415a1a77951868d1f561b9fcd00000000000000000000000011f669121a8e02ae9ba9903e510e796115f49a5500000000000000000000000011f76b3039e26a4a215102a931802ecc2d287ae000000000000000000000000011f84ff553f5fb0ba80a787deda4526c0635fcc400000000000000000000000011f93940b5d6d0052d3332af6b309094162a9a1900000000000000000000000011fde61c867fe7810fcc13f476092ab3a2ab7ba50000000000000000000000001206a4261abd00c3fc1b0d86b82aa3fcbed3ec85000000000000000000000000121477369b5f5555c328438f227f09380228e92d000000000000000000000000122120c950fcb0a14d1d021e22136dcc7911e4c70000000000000000000000001221c753a26e50941bd343f193f337c4f4fc285c000000000000000000000000122200c29f6f6184ba2e6cd722b37e569dbd188e0000000000000000000000001224e8093c86d2be7d2ad26ffcdedc27385dc9010000000000000000000000001229d344bba0eb9cbbce75dc20433ed9a31b3a5b0000000000000000000000001229f606f09ab4c7eae0216834d993faf9894b7d000000000000000000000000122a4a1820b753947372be0c4bacff9efb7ad8f4000000000000000000000000122e46af6ef1fcc58c3a17c5a9b00099294656ee00000000000000000000000012316e022d388cca45cb46ea25935de2592f380600000000000000000000000012319309ce225166ebbb15c2b588e82ad5351f7600000000000000000000000012361fd7680e6e157cfe37cc2391be12d291e50d0000000000000000000000001236e900b3164abe9e2e4096fea9fe5559320847000000000000000000000000123c80633c58915ba02ec57461ddb8737a98a43f000000000000000000000000123fe27b24325968fc80bd69fbf08aea6d8ae4cd0000000000000000000000001242d0eb452600d95532b011d2f103088c3e3a5600000000000000000000000012440c0042814ef5d470f731a07273353c8f51eb00000000000000000000000012482e0fd16fb1cc81182140c46794a278daab010000000000000000000000001250b932231d6763c34dde1d520dcc02349cd50b000000000000000000000000125162e39e74f01a7e3329fba3a60907fd75d36000000000000000000000000012568950310c492b5161f8b8ca15e3403cb28b580000000000000000000000001257bea03f42d9f1dca9470c15df4fd42f39ef8800000000000000000000000012588495720ee00045bc7509a9892f495e958b48000000000000000000000000125e5a04bdcdcf1817a7c5131ec1f2e3a5e652c100000000000000000000000012620ea1f391faa2eaebcee95953541e6962aa670000000000000000000000001263ef8528544ddfc7c304abf9829bd6036d967d00000000000000000000000012662cdb704ef46c6d02a0e8114c04866238f7f000000000000000000000000012681cbef4ac6764e6dcf8a6cdb3bf246decf4bf000000000000000000000000126adc2ee3579b1a89ccf2527c11aadcd505c547000000000000000000000000126d3a7c66fcea0dd72d2511e4d2a539c9a39bfa00000000000000000000000012713f90973634fb04488f6ef7bacee3f7d43b5b0000000000000000000000001278a95ab6446a1b5433b6b7a27387a26ca8e41d00000000000000000000000012797cd58d26423cae75c3cfbe721e2644ae0f860000000000000000000000001280733a1e9fe066258f84b957d61dbd7a31809c00000000000000000000000012822bcfcf027525c00bde608d6266565752c4060000000000000000000000001282b7491722693bda884e85c3160a1cb07e288b000000000000000000000000128af0c2e700c0ddd96ce9b0f74812c6f71a64f9000000000000000000000000128b02ead9243379499235224f5e0e1f19ef2e340000000000000000000000001291323a77530a3abba4d8623e3b9f0c2465441800000000000000000000000012949b577d7bb1ed106382539b12e4cd23200e800000000000000000000000001294aade2e6bb4661083766a8abd22c63c2121330000000000000000000000001294c657fa4d41327fabf75e04e6a7ad6fe47f4100000000000000000000000012963a58fd8dbbeb212661e79e27c042bef1328d0000000000000000000000001298c1d2ad89b96953313fcbb10f3d101845d6590000000000000000000000001299fbfc3599c96741746a1cafea63c5cbd88534000000000000000000000000129a0d63ee2e65e9f2c0d13c514aa1c176f8eb28000000000000000000000000129ae561d20176a686b778d191fb6d402710b5f9000000000000000000000000129d45b120a4db9caf5b37eef3cdb7cb27c4c1a9000000000000000000000000129d535bc0abfc690fadeeeaffff645a8d81fa3500000000000000000000000012a1194be268ed4a7ce6475ac9f695c1de1f106400000000000000000000000012a6368896d4c571ddcf351f656c7e3086a3880900000000000000000000000012a70d52024e33c84428501554fbe2e27f0cf32f00000000000000000000000012a8153a8efa03b6f6e8112dedbc89cd69ce52d000000000000000000000000012a944277ad02bdad66226015221fa35943abf8b00000000000000000000000012b681600377b8b5525a071f2df1c4972efa176000000000000000000000000012b73429629c44266b06a72675e670fea1aeee4200000000000000000000000012b99aa8f6961e43c8a71d8c7910fbfdbff86a3d00000000000000000000000012bd2bf982af2285512213e62544e79190699b4e00000000000000000000000012c0c82704470b0cc1737b304d14a5de077b5f9800000000000000000000000012c0d8770a22206670765e1c412c61b4956181da00000000000000000000000012ce5c145947781a30884f730bbd8d57bde5c89b00000000000000000000000012d82e87981d2c9ca33dbd9b85c8d3fc5cf318f400000000000000000000000012d82f6249bf394d45da9b1554fcf8cb488a9ee900000000000000000000000012dca9f0464ef693f591deafb137464147f5728e00000000000000000000000012dcdc2e7d03dfb0432fcfe8f5a371c9d021bb4f00000000000000000000000012de69a30defc57f2db2e23568a369c72e7437c800000000000000000000000012df30ca90215c0d43f5813b298a937d42617be900000000000000000000000012e11f0638ff7409bf6ef2a94b98a84df385016600000000000000000000000012e247eab181b009607870fa822282e4d0f137de00000000000000000000000012e55f2dd29fb2bb0bafcedce53bc7538347bfd700000000000000000000000012e78319b039b8a5d6216a9305761f43d12509f500000000000000000000000012ee31c0fb66c2a1d03232dbd0d1dc40e6b608af00000000000000000000000012fc1e5f6a7e03e5a29480a9454abfdab1024d0800000000000000000000000012ff0d3f0012fb0e32f7af0cf45b5df9b83c308500000000000000000000000013044ab527aff4be7e9e2896b307bbe66667e4570000000000000000000000001306cf074aaf6e37ff16705919dcce2616a36dde00000000000000000000000013099532a46adb1f7e1342d103ac84c3402f10b5000000000000000000000000130c7fa5ba985b8a519ba2c81a0f91f8c8c3aa7e00000000000000000000000013187cc386e0a696308bdb5ec0996488237a9d450000000000000000000000001318f0d34fff02b61d23f5e1fbb96c95daea1a2c000000000000000000000000131bf292b2e13466355f5f96cc3bb78708322f06000000000000000000000000131e09d8e58b4ce262a2c4292a036a162ba162fe00000000000000000000000013200bc416d347870d222cb5bf292046890882480000000000000000000000001328b17d92258317666d0c84a6be5aa1ec0fed980000000000000000000000001328cfcbadf63b30d1c0cb4fc482453179846f61000000000000000000000000132e5bf7197d71fb66f3dd400a4e2ad489ada03900000000000000000000000013323485271dd7f3efdcffda8522e1788fbfce88000000000000000000000000133768ab4d06782e43c2d8052b5270551feb6d30000000000000000000000000133c105f192742bdceb7a9bf20937673c5e8a70d000000000000000000000000133f213efdfb8415c45c3df09cb05729278bf4b70000000000000000000000001340b0cd22ac207c31be89d5acba08e8c4c22a5a00000000000000000000000013420e6f74031e6413b2b1878162aa00724fd60e00000000000000000000000013424700069f1452b286fd45a0cc6a3ffae6dc1d0000000000000000000000001342a163f48bfa4daf97d90e3ecd430e65653bc60000000000000000000000001343a751efa75b06e2be887f02a26f91bf1ca8ff0000000000000000000000001343ab48ecf3360edccefae124701535c3e697b100000000000000000000000013441564bf80c9df9628c0d2eecf7a74e171b4690000000000000000000000001347ecb92e92e6f4b9753c4638c58c8b30dde963000000000000000000000000134c3865b12e2b0f27d5cbce82a830cb131e52d4000000000000000000000000134f06a09dd9a16b3597810c3990b28447017f490000000000000000000000001351686fce232a816431a55ccf7fa3ae5afa14a30000000000000000000000001352bf085cc1a3316dd5234afd599d2701d5d2c80000000000000000000000001357363f8412749197fcab9b2cbf1127372e4f6c0000000000000000000000001358cc80d7566529ec7b8468a3acdd0eaba3014c000000000000000000000000135f6dca9d41fb879aacbcd759daf57c377ffac10000000000000000000000001368c077cfc4f2058f02ff6909339cf7cedc87440000000000000000000000001368fbdfd3d2520ebcecfaed419c80dd0f66f1ec000000000000000000000000136dd1a6d1f48988fcca1d0cd9257e5bdaa18642000000000000000000000000137f85d768d58a670bdd7ad22f4738badcf424d8000000000000000000000000138217746bd24765ada859ed9cf23182e456ca3d00000000000000000000000013837ddbdb6c356a51fbebe2246dff306993b472000000000000000000000000138582852e4744051728ab0c41dfbc1fcc426ce7000000000000000000000000138fbee9b56ee02d14c312b019a0d69ba975c8cc000000000000000000000000139ad56006d50f439855509c7f313042edd05c4b00000000000000000000000013a1aa42ee507cad1321b0d6d5c0d561f5ded45100000000000000000000000013a8a1fef7c99d9f8b7f5475d60fa7fe01c4a49300000000000000000000000013ab9422154cb75059632a3c6e7f52c036fd480400000000000000000000000013ac5ab379812b296a192c12a024da9a790c23b900000000000000000000000013acd1f9968e758d0c5632f98e59c8164cd4956100000000000000000000000000000000000000000000000000000000000000c80000000000000000000000000000000000000000000000000000000000002bc10000000000000000000000000000000000000000000000000000000000002bc20000000000000000000000000000000000000000000000000000000000002bc30000000000000000000000000000000000000000000000000000000000002bc40000000000000000000000000000000000000000000000000000000000002bc50000000000000000000000000000000000000000000000000000000000002bc60000000000000000000000000000000000000000000000000000000000002bc70000000000000000000000000000000000000000000000000000000000002bc80000000000000000000000000000000000000000000000000000000000002bc90000000000000000000000000000000000000000000000000000000000002bca0000000000000000000000000000000000000000000000000000000000002bcb0000000000000000000000000000000000000000000000000000000000002bcc0000000000000000000000000000000000000000000000000000000000002bcd0000000000000000000000000000000000000000000000000000000000002bce0000000000000000000000000000000000000000000000000000000000002bcf0000000000000000000000000000000000000000000000000000000000002bd00000000000000000000000000000000000000000000000000000000000002bd10000000000000000000000000000000000000000000000000000000000002bd20000000000000000000000000000000000000000000000000000000000002bd30000000000000000000000000000000000000000000000000000000000002bd40000000000000000000000000000000000000000000000000000000000002bd50000000000000000000000000000000000000000000000000000000000002bd60000000000000000000000000000000000000000000000000000000000002bd70000000000000000000000000000000000000000000000000000000000002bd80000000000000000000000000000000000000000000000000000000000002bd90000000000000000000000000000000000000000000000000000000000002bda0000000000000000000000000000000000000000000000000000000000002bdb0000000000000000000000000000000000000000000000000000000000002bdc0000000000000000000000000000000000000000000000000000000000002bdd0000000000000000000000000000000000000000000000000000000000002bde0000000000000000000000000000000000000000000000000000000000002bdf0000000000000000000000000000000000000000000000000000000000002be00000000000000000000000000000000000000000000000000000000000002be10000000000000000000000000000000000000000000000000000000000002be20000000000000000000000000000000000000000000000000000000000002be30000000000000000000000000000000000000000000000000000000000002be40000000000000000000000000000000000000000000000000000000000002be50000000000000000000000000000000000000000000000000000000000002be60000000000000000000000000000000000000000000000000000000000002be70000000000000000000000000000000000000000000000000000000000002be80000000000000000000000000000000000000000000000000000000000002be90000000000000000000000000000000000000000000000000000000000002bea0000000000000000000000000000000000000000000000000000000000002beb0000000000000000000000000000000000000000000000000000000000002bec0000000000000000000000000000000000000000000000000000000000002bed0000000000000000000000000000000000000000000000000000000000002bee0000000000000000000000000000000000000000000000000000000000002bef0000000000000000000000000000000000000000000000000000000000002bf00000000000000000000000000000000000000000000000000000000000002bf10000000000000000000000000000000000000000000000000000000000002bf20000000000000000000000000000000000000000000000000000000000002bf30000000000000000000000000000000000000000000000000000000000002bf40000000000000000000000000000000000000000000000000000000000002bf50000000000000000000000000000000000000000000000000000000000002bf60000000000000000000000000000000000000000000000000000000000002bf70000000000000000000000000000000000000000000000000000000000002bf80000000000000000000000000000000000000000000000000000000000002bf90000000000000000000000000000000000000000000000000000000000002bfa0000000000000000000000000000000000000000000000000000000000002bfb0000000000000000000000000000000000000000000000000000000000002bfc0000000000000000000000000000000000000000000000000000000000002bfd0000000000000000000000000000000000000000000000000000000000002bfe0000000000000000000000000000000000000000000000000000000000002bff0000000000000000000000000000000000000000000000000000000000002c000000000000000000000000000000000000000000000000000000000000002c010000000000000000000000000000000000000000000000000000000000002c020000000000000000000000000000000000000000000000000000000000002c030000000000000000000000000000000000000000000000000000000000002c040000000000000000000000000000000000000000000000000000000000002c050000000000000000000000000000000000000000000000000000000000002c060000000000000000000000000000000000000000000000000000000000002c070000000000000000000000000000000000000000000000000000000000002c080000000000000000000000000000000000000000000000000000000000002c090000000000000000000000000000000000000000000000000000000000002c0a0000000000000000000000000000000000000000000000000000000000002c0b0000000000000000000000000000000000000000000000000000000000002c0c0000000000000000000000000000000000000000000000000000000000002c0d0000000000000000000000000000000000000000000000000000000000002c0e0000000000000000000000000000000000000000000000000000000000002c0f0000000000000000000000000000000000000000000000000000000000002c100000000000000000000000000000000000000000000000000000000000002c110000000000000000000000000000000000000000000000000000000000002c120000000000000000000000000000000000000000000000000000000000002c130000000000000000000000000000000000000000000000000000000000002c140000000000000000000000000000000000000000000000000000000000002c150000000000000000000000000000000000000000000000000000000000002c160000000000000000000000000000000000000000000000000000000000002c170000000000000000000000000000000000000000000000000000000000002c180000000000000000000000000000000000000000000000000000000000002c190000000000000000000000000000000000000000000000000000000000002c1a0000000000000000000000000000000000000000000000000000000000002c1b0000000000000000000000000000000000000000000000000000000000002c1c0000000000000000000000000000000000000000000000000000000000002c1d0000000000000000000000000000000000000000000000000000000000002c1e0000000000000000000000000000000000000000000000000000000000002c1f0000000000000000000000000000000000000000000000000000000000002c200000000000000000000000000000000000000000000000000000000000002c210000000000000000000000000000000000000000000000000000000000002c220000000000000000000000000000000000000000000000000000000000002c230000000000000000000000000000000000000000000000000000000000002c240000000000000000000000000000000000000000000000000000000000002c250000000000000000000000000000000000000000000000000000000000002c260000000000000000000000000000000000000000000000000000000000002c270000000000000000000000000000000000000000000000000000000000002c280000000000000000000000000000000000000000000000000000000000002c290000000000000000000000000000000000000000000000000000000000002c2a0000000000000000000000000000000000000000000000000000000000002c2b0000000000000000000000000000000000000000000000000000000000002c2c0000000000000000000000000000000000000000000000000000000000002c2d0000000000000000000000000000000000000000000000000000000000002c2e0000000000000000000000000000000000000000000000000000000000002c2f0000000000000000000000000000000000000000000000000000000000002c300000000000000000000000000000000000000000000000000000000000002c310000000000000000000000000000000000000000000000000000000000002c320000000000000000000000000000000000000000000000000000000000002c330000000000000000000000000000000000000000000000000000000000002c340000000000000000000000000000000000000000000000000000000000002c350000000000000000000000000000000000000000000000000000000000002c360000000000000000000000000000000000000000000000000000000000002c370000000000000000000000000000000000000000000000000000000000002c380000000000000000000000000000000000000000000000000000000000002c390000000000000000000000000000000000000000000000000000000000002c3a0000000000000000000000000000000000000000000000000000000000002c3b0000000000000000000000000000000000000000000000000000000000002c3c0000000000000000000000000000000000000000000000000000000000002c3d0000000000000000000000000000000000000000000000000000000000002c3e0000000000000000000000000000000000000000000000000000000000002c3f0000000000000000000000000000000000000000000000000000000000002c400000000000000000000000000000000000000000000000000000000000002c410000000000000000000000000000000000000000000000000000000000002c420000000000000000000000000000000000000000000000000000000000002c430000000000000000000000000000000000000000000000000000000000002c440000000000000000000000000000000000000000000000000000000000002c450000000000000000000000000000000000000000000000000000000000002c460000000000000000000000000000000000000000000000000000000000002c470000000000000000000000000000000000000000000000000000000000002c480000000000000000000000000000000000000000000000000000000000002c490000000000000000000000000000000000000000000000000000000000002c4a0000000000000000000000000000000000000000000000000000000000002c4b0000000000000000000000000000000000000000000000000000000000002c4c0000000000000000000000000000000000000000000000000000000000002c4d0000000000000000000000000000000000000000000000000000000000002c4e0000000000000000000000000000000000000000000000000000000000002c4f0000000000000000000000000000000000000000000000000000000000002c500000000000000000000000000000000000000000000000000000000000002c510000000000000000000000000000000000000000000000000000000000002c520000000000000000000000000000000000000000000000000000000000002c530000000000000000000000000000000000000000000000000000000000002c540000000000000000000000000000000000000000000000000000000000002c550000000000000000000000000000000000000000000000000000000000002c560000000000000000000000000000000000000000000000000000000000002c570000000000000000000000000000000000000000000000000000000000002c580000000000000000000000000000000000000000000000000000000000002c590000000000000000000000000000000000000000000000000000000000002c5a0000000000000000000000000000000000000000000000000000000000002c5b0000000000000000000000000000000000000000000000000000000000002c5c0000000000000000000000000000000000000000000000000000000000002c5d0000000000000000000000000000000000000000000000000000000000002c5e0000000000000000000000000000000000000000000000000000000000002c5f0000000000000000000000000000000000000000000000000000000000002c600000000000000000000000000000000000000000000000000000000000002c610000000000000000000000000000000000000000000000000000000000002c620000000000000000000000000000000000000000000000000000000000002c630000000000000000000000000000000000000000000000000000000000002c640000000000000000000000000000000000000000000000000000000000002c650000000000000000000000000000000000000000000000000000000000002c660000000000000000000000000000000000000000000000000000000000002c670000000000000000000000000000000000000000000000000000000000002c680000000000000000000000000000000000000000000000000000000000002c690000000000000000000000000000000000000000000000000000000000002c6a0000000000000000000000000000000000000000000000000000000000002c6b0000000000000000000000000000000000000000000000000000000000002c6c0000000000000000000000000000000000000000000000000000000000002c6d0000000000000000000000000000000000000000000000000000000000002c6e0000000000000000000000000000000000000000000000000000000000002c6f0000000000000000000000000000000000000000000000000000000000002c700000000000000000000000000000000000000000000000000000000000002c710000000000000000000000000000000000000000000000000000000000002c720000000000000000000000000000000000000000000000000000000000002c730000000000000000000000000000000000000000000000000000000000002c740000000000000000000000000000000000000000000000000000000000002c750000000000000000000000000000000000000000000000000000000000002c760000000000000000000000000000000000000000000000000000000000002c770000000000000000000000000000000000000000000000000000000000002c780000000000000000000000000000000000000000000000000000000000002c790000000000000000000000000000000000000000000000000000000000002c7a0000000000000000000000000000000000000000000000000000000000002c7b0000000000000000000000000000000000000000000000000000000000002c7c0000000000000000000000000000000000000000000000000000000000002c7d0000000000000000000000000000000000000000000000000000000000002c7e0000000000000000000000000000000000000000000000000000000000002c7f0000000000000000000000000000000000000000000000000000000000002c800000000000000000000000000000000000000000000000000000000000002c810000000000000000000000000000000000000000000000000000000000002c820000000000000000000000000000000000000000000000000000000000002c830000000000000000000000000000000000000000000000000000000000002c840000000000000000000000000000000000000000000000000000000000002c850000000000000000000000000000000000000000000000000000000000002c860000000000000000000000000000000000000000000000000000000000002c870000000000000000000000000000000000000000000000000000000000002c880000000000000000000000000000000000000000000000000000000000000000";


//        DynamicArray<Address> dynamicArray = new DynamicArray();

        Function function = new Function("multiMint"
                , new ArrayList<>()
                , Arrays.<TypeReference<?>>asList(
                new TypeReference<DynamicArray<Address>>() {
                },
                new TypeReference<DynamicArray<Uint256>>() {
                },
                new TypeReference<Bytes32>() {
                }
        )
        );


        List<Type> list = FunctionReturnDecoder.decode(input, function.getOutputParameters());

        for (Type type : list) {
            System.out.println(JSONUtil.toJsonStr(type));
        }


//        BscScanAccountTransaction bscScanAccountTransaction = new BscScanAccountTransaction();
//        bscScanAccountTransaction.setMethodId("0x40c10f19");
//        bscScanAccountTransaction.setInput("0x40c10f190000000000000000000000004f914ee31cb44d04c3ce8fccd6573d9af36c87800000000000000000000000000000000000000000000000000000000000000001");
//        bscScanAccountTransaction.setFunctionName("mint(address _owner, uint256 _amount)");
//
//        BscScanAccountTransaction(bscScanAccountTransaction);
//
//        String address = Keys.getAddress("0xa22cb465");
//        System.out.println(address);

//        BscScanTransactionLogDTO bscScanTransactionLogDTO = new BscScanTransactionLogDTO();
//        bscScanTransactionLogDTO.setTopics(Arrays.asList(
//                "0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef",
//                "0x0000000000000000000000000000000000000000000000000000000000000000",
//                "0x000000000000000000000000ff19c7cd7e5a1255ae5a8c850d93edf43303d347",
//                "0x0000000000000000000000000000000000000000000000000000000000006fbb"
//        ));
//
//        String s = BscScanLogTransaction(bscScanTransactionLogDTO);
//        System.out.println(s);

//        Long aLong = Long.valueOf("83495f",16);
//        System.out.println(aLong);
    }
}
